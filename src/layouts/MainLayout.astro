---
import "../styles/global.css";
import Sidebar from "../components/Sidebar.astro";

interface Props {
    title: string;
    currentPath?: string;
}

const { title, currentPath } = Astro.props;
const BASE = import.meta.env.BASE_URL || "/";
const BASE_SLASH = BASE.endsWith("/") ? BASE : BASE + "/";
---

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="description" content="Galactic Fruit Test Artifacts" />
        <meta name="viewport" content="width=device-width" />
        <link
            rel="icon"
            type="image/svg+xml"
            href={`${BASE_SLASH}favicon.svg`}
        />
        <meta name="generator" content={Astro.generator} />
        <title>{title} | Galactic Fruit Testing</title>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
            rel="stylesheet"
        />
    </head>
    <body
        class="bg-eoe-dark min-h-screen text-eoe-text font-sans selection:bg-eoe-accent/30 selection:text-white"
    >
        <Sidebar currentPath={currentPath} />

        <main class="md:ml-64 min-h-screen relative">
            <!-- Background ambient glow -->
            <!-- Background ambient glow removed -->

            <div class="max-w-7xl mx-auto p-8 md:p-12">
                            {title !== "Home" && (
                <header class="mb-12">
                    <h2
                        class="text-3xl md:text-4xl font-bold text-white mb-4 tracking-tight"
                    >
                        {title}
                    </h2>
                    <div class="h-1 w-20 bg-eoe-accent rounded-full"></div>
                </header>
            )}

                <div class="animate-fade-in">
                    <slot />
                </div>
            </div>
        </main>
    </body>
</html>

<style>
    .animate-fade-in {
        animation: fadeIn 0.5s ease-out forwards;
        opacity: 0;
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
</style>
